public class AnimalLocator {

    public static String getAnimalNameById(Integer idAnimal) {
        String result = '';
        
        HttpResponse response = makeRequest(idAnimal);
        if (response.getStatusCode() == 200) {
            String json = response.getBody();

           JSONParser parser = System.JSON.createParser(json);
			while (parser.nextToken() != null) {
                if ((parser.getCurrentToken() == JSONToken.FIELD_NAME) &&
                    (parser.getText() == 'name')) {
                        parser.nextToken();

                    result = parser.getText();
                }
            }

          //  result = animal.get('name');

           
            System.debug('CHA: '+result);
        }
        
        return result;
    }
    
    private static HttpResponse  makeRequest(Integer idAnimal) {
        Http http = new Http();
        HttpRequest request = new HttpRequest();
        request.setEndpoint('https://th-apex-http-callout.herokuapp.com/animals/'+idAnimal);
        request.setMethod('GET');
        HttpResponse response = http.send(request);
        // If the request is successful, parse the JSON response.
        
        return response;
    }
 
}
//
// Generated by JSON2Apex http://json2apex.herokuapp.com/
//